<div class="flex flex-col w-80 mb-3 align-center">
  <h2 class="my-5 font-black">Gerenciamento de Tarefas</h2>
  <form id="data-form" autocomplete="off" [formGroup]="taskForm" (ngSubmit)="addTask()">
    <div class="flex">
      <div class="flex-1 w-64">
        <input type="text" formControlName="name" id="name" placeholder="Digite tarefa" class="input input-bordered input-primary mr-3" />
      </div>
      <div class="flex-1 w-64">
        <select formControlName="categoryId" id="categoryId" class="select select-primary mr-3">
          <option disabled selected>Categorias</option>
          @for (category of categories; track category.id) {
          <option [value]="category.id">{{ category.name }}</option>
          }
        </select>
      </div>
      <div class="flex-1 w-64">
          <button class="btn btn-primary">
            <i class="fa fa-plus"></i>
          </button>
      </div>
    </div>
  </form>
@if (tasks.length > 0) {
  <table class="table table-zebra mt-6">
    <!-- head -->
    <thead>
      <tr>
        <th></th>
        <th>Tarefa</th>
        <th>Categoria</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <!-- row 1 -->
      @for (task of tasks; track task.id) {
      <tr>
        <td>{{ task.id }}</td>
        <td>{{ task.name }}</td>
        <td>{{ getCategoryName(task.categoryId) }}</td>
        <td>
          <input type="checkbox" [checked]="task.completed">
        </td>
      </tr>
     }
    </tbody>
  </table>
  <button (click)="clearTasks()" class="mt-4 btn btn-sm btn-outline btn-error">
    <i class="fa fa-trash"></i>
  </button>
}
</div>

